<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Optimisation - Andrew JD Hudson</title>
    <meta name="Description" content="I am writing about my experiences as a naval navel-gazer.">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Andrew&#39;s Blog">
    <link rel="preload" href="/assets/fonts/Inter-roman.var.woff2" as="font" type="font/woff2" crossorigin>
	  <link rel="stylesheet" href="/css/styles.css">
  </head>

  <body>
    <header>
	<div class="container">
		<h1 class="home"><a href="/">Andrew&#39;s Blog</a></h1>
		<ul class="nav"><li class="nav-item">
			<a href="/">Home</a>
		</li><li class="nav-item">
			<a href="/about/">About</a>
		</li><li class="nav-item">
			<a href="/posts/">Archive</a>
		</li><li class="nav-item">
			<a href="/cv/">CV</a>
		</li><li class="nav-item">
			<a href="/now/">Now</a>
		</li><li class="nav-item">
			<a href="/design/">Design</a>
		</li></ul>
		<theme-toggle></theme-toggle>

	</div>
</header>


    <main class="tmpl-post">
      <div class="container">
        <h1>Website Optimisation</h1>

<div class="tmpl-post__inner">
	
		<p>Posted on: <time class="postlist-date" datetime="2011-05-20">20-05-2011</time></p>
	

	<div class="tmpl-post__content">
		<p>I love speed, everything to do to get something done faster is must for me. This week I finally have fiber-optic internet and now I am looking to extend my passion for speed through in relation to THIS website. Why am I going to do this? I hate waiting for a website to load, you hate it too, right? There's far too much you'd prefer to be doing than waiting for a download to happen or a web page to open. How am I going to do this?</p>
<ol>
<li>Compression of files (CSS and javascript),</li>
<li>use of heavy browser caching (via the .htaccess file),</li>
<li>use of database caching (this is done by a wordpress plugin called W3 Total Cache)</li>
<li>use of a Content Delivery Network (CDN)</li>
</ol>
<h2 id="1.-compression">1. Compression <a class="direct-link" href="#1.-compression">#</a></h2>
<p>The larger the file the longer it takes to download resulting in a much slower page load time compared to when the files are compressed. Personally I use the <a href="http://wordpress.org/extend/plugins/wp-css/">WP CSS</a> plugin although now I have installed the <a href="http://wordpress.org/extend/plugins/w3-total-cache/">W3 Total Cache</a> (W3TC) plugin I might remove it and trust W3TC to do it all. When developing a site normally one might split the styles into a number of different style sheets (e.g. content.css, layout.css, reset.css, fonts.css) but this is a bad move. Each file requires request puts more strain on the internet connection and thus has a big impact on page speed. I combine all my css into one stylesheet (including the print css too) as recommended in the <a href="http://html5boilerplate.com/" title="HTML5 Boilerplate - the bees knees for web dev project jumpoff">HTML5 Boilerplate</a> .</p>
<h2 id="2.-caching">2. Caching <a class="direct-link" href="#2.-caching">#</a></h2>
<p>Browser caching is the process that web browsers use to keep the files associated with a web page (css, javascript, images, and so on) on file so that they don't need to be downloaded again if the user visits another page in the site, or even comes back after visiting another site. As a website administrator you can change the amount of time that the browser will keep the files, so that the browser keeps files for a long time and don't need to continually download them. On Apache servers this can be controlled using by changing settings in the .htaccess file in the root folder of your site. There is excellent documentation on best practice on the HTML5 boilerplate website.</p>
<h2 id="3.-database-caching">3. Database Caching <a class="direct-link" href="#3.-database-caching">#</a></h2>
<p>Using a database driven website is great if you are writing a blog or another data-heavy website, but when a lot of users start to visit your site the amount of work that the server has to do each time a user visits adds up and will become a bottleneck on high-traffic sites. If, however, you cache the pages using a plugin and store the pages as static files then the server doesn't need to do anything once a user visits, just display the content (like any non database driven site). I am using w3TC to do this.</p>
<h2 id="4.-content-delivery-network">4. Content Delivery Network <a class="direct-link" href="#4.-content-delivery-network">#</a></h2>
<p>The world is a big place and even with today's fast internet connections the users - if for example your web server is situated in London - from USA are going to have a different page load time compared to those in London. If, however, you have access to a CDN your images, css, javascript (and so on) are hosted on a number of different servers all around the world, so your user in USA will have a much faster page load speed. I am trying out <a href="http://www.maxcdn.com/">Max CDN</a> (after hearing of them and doing an offer through <a href="http://appsumo.com">AppSumo</a>). I'll let you know how it goes... I have just setup my package so will see how it goes over the next week or so!</p>

	</div><p class="post-taglist-label">Tagged: </p>
		<ul class="post-taglist list--inline">
			
					<li>
						<a href="/tags/wordpress/" class="tag">wordpress</a>
					</li>
		</ul></div>

<p>
	<a href="/">← Home</a>
</p>

      </div>
    </main>

    <footer>
	<div class="container">
		<p>&copy; 2019 Andrew JD hudson</p>
	</div>
</footer>


    <script>
      // For syntax highlighting only
const html = String.raw;

class ThemeToggle extends HTMLElement {
	constructor() {
		super();

		this.STORAGE_KEY = 'user-color-scheme';
		this.COLOR_MODE_KEY = '--color-mode';
	}

	connectedCallback() {
		this.render();
	}

	getCSSCustomProp(propKey) {
		let response = getComputedStyle(
			document.documentElement
		).getPropertyValue(propKey);

		// Tidy up the string if there’s something to work with
		if (response.length) {
			response = response.replace(/\'|"/g, '').trim();
		}

		// Return the string response by default
		return response;
	}

	applySetting(passedSetting) {
		let currentSetting =
			passedSetting || localStorage.getItem(this.STORAGE_KEY);

		if (currentSetting) {
			document.documentElement.setAttribute(
				'data-user-color-scheme',
				currentSetting
			);
			this.setButtonLabelAndStatus(currentSetting);
		} else {
			this.setButtonLabelAndStatus(
				this.getCSSCustomProp(this.COLOR_MODE_KEY)
			);
		}
	}

	toggleSetting() {
		let currentSetting = localStorage.getItem(this.STORAGE_KEY);

		switch (currentSetting) {
			case null:
				currentSetting =
					this.getCSSCustomProp(this.COLOR_MODE_KEY) === 'dark'
						? 'light'
						: 'dark';
				break;
			case 'light':
				currentSetting = 'dark';
				break;
			case 'dark':
				currentSetting = 'light';
				break;
		}

		localStorage.setItem(this.STORAGE_KEY, currentSetting);

		return currentSetting;
	}

	setButtonLabelAndStatus(currentSetting) {
		this.modeToggleButton.innerText = `${
			currentSetting === 'dark' ? 'Light' : 'Dark'
		} theme`;
		this.modeStatusElement.innerText = `Color mode is now "${currentSetting}"`;
	}

	render() {
		this.innerHTML = html`
			<div class="[ theme-toggle ] [ md:ta-right gap-top-500 ]">
				<div
					role="status"
					class="[ visually-hidden ][ js-mode-status ]"
				></div>
				<button
					class="[ button ] [ font-base text-base weight-bold ] [ js-mode-toggle ]"
				>
					Dark theme
				</button>
			</div>
		`;

		this.afterRender();
	}

	afterRender() {
		this.modeToggleButton = document.querySelector('.js-mode-toggle');
		this.modeStatusElement = document.querySelector('.js-mode-status');

		this.modeToggleButton.addEventListener('click', evt => {
			evt.preventDefault();

			this.applySetting(this.toggleSetting());
		});

		this.applySetting();
	}
}

if ('customElements' in window) {
	customElements.define('theme-toggle', ThemeToggle);
}

    </script>
  </body>
</html>
