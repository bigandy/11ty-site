<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weeknotes #18 - Andrew JD Hudson</title>
    <meta name="Description" content="Beautiful spring weather has finally arrived; Arthur mastered cycling; Emma is climbing the stairs and the cycling season has started.">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Andrew&#39;s Blog">
    <link rel="preload" href="/assets/fonts/Inter-roman.var.woff2" as="font" type="font/woff2" crossorigin>
	  <link rel="stylesheet" href="/css/styles.css">
  </head>

  <body>
    <header>
	<div class="container">
		<h1 class="home"><a href="/">Andrew&#39;s Blog</a></h1>
		<ul class="nav"><li class="nav-item">
			<a href="/">Home</a>
		</li><li class="nav-item">
			<a href="/about/">About</a>
		</li><li class="nav-item">
			<a href="/posts/">Archive</a>
		</li><li class="nav-item">
			<a href="/cv/">CV</a>
		</li><li class="nav-item">
			<a href="/now/">Now</a>
		</li><li class="nav-item">
			<a href="/design/">Design</a>
		</li></ul>
		<theme-toggle></theme-toggle>

	</div>
</header>


    <main class="tmpl-post">
      <div class="container">
        <h1>Weeknotes #18</h1>

<div class="tmpl-post__inner">
	
		<p>Posted on: <time class="postlist-date" datetime="2019-03-26">26-03-2019</time></p>
	

	<div class="tmpl-post__content">
		<p>Beautiful spring weather has finally arrived, Arthur mastered cycling, Emma is climbing the stairs and the cycling season has started proper.</p>
<ul>
<li>Watched (and slept through much of) the first classic of the cycling season - <a href="http://inrng.com/2019/03/moment-2019-milan-sanremo-was-won/">Milan San Remo</a>. Can't wait for the proper spring classics to begin with two of my favourite races Tour of Flanders and Paris Roubaix.</li>
<li>We checked out the Lambing Festival at the Earth Trust on Sunday</li>
<li>Arthur has finally mastered riding his bike with no stabilisers. We went to Didcot on Saturday and he could cycle around the Pavilion with no cars or people in the way!</li>
<li>Emma has learned to climb the stairs and is putting her nose into any cupboard and drawer. Her final week with Marion before she goes to nursery.</li>
<li>Pub dinner with my parents at the Red Lion on Friday - our last week in Cholsey before moving house so had to bid farewell to the village pub!</li>
<li>Ran to the new house and still unfinished and feels like a building site. Wonder what they will have done before we moved in.</li>
<li>Exercise: twice to the gym, twice running, and a family walk.</li>
<li>Have set up a <a href="https://andrewhudson.netlify.com">Gatsby blog</a> so I can compare Gatsby with Eleventy as the successor to this WordPress site.</li>
</ul>

	</div><p class="post-taglist-label">Tagged: </p>
		<ul class="post-taglist list--inline">
			
					<li>
						<a href="/tags/weeknotes/" class="tag">weeknotes</a>
					</li>
		</ul></div>

<p>
	<a href="/">← Home</a>
</p>

      </div>
    </main>

    <footer>
	<div class="container">
		<p>&copy; 2019 Andrew JD hudson</p>
	</div>
</footer>


    <script>
      // For syntax highlighting only
const html = String.raw;

class ThemeToggle extends HTMLElement {
	constructor() {
		super();

		this.STORAGE_KEY = 'user-color-scheme';
		this.COLOR_MODE_KEY = '--color-mode';
	}

	connectedCallback() {
		this.render();
	}

	getCSSCustomProp(propKey) {
		let response = getComputedStyle(
			document.documentElement
		).getPropertyValue(propKey);

		// Tidy up the string if there’s something to work with
		if (response.length) {
			response = response.replace(/\'|"/g, '').trim();
		}

		// Return the string response by default
		return response;
	}

	applySetting(passedSetting) {
		let currentSetting =
			passedSetting || localStorage.getItem(this.STORAGE_KEY);

		if (currentSetting) {
			document.documentElement.setAttribute(
				'data-user-color-scheme',
				currentSetting
			);
			this.setButtonLabelAndStatus(currentSetting);
		} else {
			this.setButtonLabelAndStatus(
				this.getCSSCustomProp(this.COLOR_MODE_KEY)
			);
		}
	}

	toggleSetting() {
		let currentSetting = localStorage.getItem(this.STORAGE_KEY);

		switch (currentSetting) {
			case null:
				currentSetting =
					this.getCSSCustomProp(this.COLOR_MODE_KEY) === 'dark'
						? 'light'
						: 'dark';
				break;
			case 'light':
				currentSetting = 'dark';
				break;
			case 'dark':
				currentSetting = 'light';
				break;
		}

		localStorage.setItem(this.STORAGE_KEY, currentSetting);

		return currentSetting;
	}

	setButtonLabelAndStatus(currentSetting) {
		this.modeToggleButton.innerText = `${
			currentSetting === 'dark' ? 'Light' : 'Dark'
		} theme`;
		this.modeStatusElement.innerText = `Color mode is now "${currentSetting}"`;
	}

	render() {
		this.innerHTML = html`
			<div class="[ theme-toggle ] [ md:ta-right gap-top-500 ]">
				<div
					role="status"
					class="[ visually-hidden ][ js-mode-status ]"
				></div>
				<button
					class="[ button ] [ font-base text-base weight-bold ] [ js-mode-toggle ]"
				>
					Dark theme
				</button>
			</div>
		`;

		this.afterRender();
	}

	afterRender() {
		this.modeToggleButton = document.querySelector('.js-mode-toggle');
		this.modeStatusElement = document.querySelector('.js-mode-status');

		this.modeToggleButton.addEventListener('click', evt => {
			evt.preventDefault();

			this.applySetting(this.toggleSetting());
		});

		this.applySetting();
	}
}

if ('customElements' in window) {
	customElements.define('theme-toggle', ThemeToggle);
}

    </script>
  </body>
</html>
